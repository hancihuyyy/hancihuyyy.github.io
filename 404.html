<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Alihkan…</title>
<style>
  html,body{height:100%}
  body{
    margin:0;display:grid;place-items:center;
    background:#0b1220;color:#e5e7eb;
    font-family:system-ui,Inter,Arial
  }
  .card{
    background:rgba(255,255,255,.06);
    border:1px solid rgba(255,255,255,.12);
    border-radius:14px;
    padding:20px 22px;
    box-shadow:0 14px 40px rgba(0,0,0,.35);
    width:min(560px,92vw)
  }
  .muted{opacity:.8}
</style>
</head>
<body>
  <div class="card">
    <div id="msg">Mengarahkan…</div>
    <div class="muted" style="font-size:.9rem;margin-top:.5rem">
      Jika tidak pindah otomatis, <a id="fallback" href="/">kembali</a>.
    </div>
  </div>

<script>
(function(){
  // path penuh mis: /short/dorongan+angin
  var path = location.pathname;

  // 1) Router untuk /short/<key>
  //    Alihkan ke /short/?k=<key>
  var shortPrefix = '/short/';
  if (path.startsWith(shortPrefix)) {
    var key = decodeURIComponent(path.slice(shortPrefix.length)); // ambil sisa path (dorongan+angin)
    if (!key || key === '' || key === 'index.html') {
      // biarkan /short/ normal
      location.replace('/short/');
      return;
    }
    location.replace('/short/?k=' + encodeURIComponent(key));
    return;
  }

  // 2) Default: kembali ke beranda
  document.getElementById('msg').textContent =
    'Halaman tidak ditemukan. Mengarahkan ke beranda…';
  document.getElementById('fallback').href = '/';
  setTimeout(function(){ location.replace('/'); }, 1200);
})();
</script>
</body>
</html>
